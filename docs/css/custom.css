/* 所有 KaTeX 公式元素的基础样式 */
.katex {
  font-family: "Roboto", "Latin Modern Math", serif;
  font-size: 1.2em; /* 行内公式稍大，增强可读性 */
  color: #2c3e50; /* 深色，与 PaperMod 协调 */
  line-height: 1.5; /* 改善行距 */
}

/* 块级公式样式 */
.katex-display {
  font-family: "Roboto", "Latin Modern Math", serif;
  font-size: 1.3em; /* 块级公式更大，突出显示 */
  background-color: #f8f9fa; /* 浅色背景 */
  padding: 12px;
  border-radius: 6px;
  margin: 1em 0;
  text-align: center; /* 居中显示 */
}

/* 函数（如 \text{Attention}）样式 */
.katex .mtext {
  font-family: "Roboto", "Latin Modern Math", serif;
  font-style: normal; /* 正体（非斜体） */
  font-weight: 400; /* 常规粗细 */
}

/* 变量（如 Q、K、V、d_k）样式 */
.katex .mi {
  font-family: "Roboto", "Latin Modern Math", serif;
  font-style: italic; /* 保持斜体 */
}

/* 参考文献样式，与公式字体协调 */
ol.references {
  font-family: "Roboto", serif;
  font-size: 0.9em;
  margin-top: 1em;
  padding-left: 2em;
}

/* 暗色模式适配 */
@media (prefers-color-scheme: dark) {
  .katex, .katex-display {
    color: #ecf0f1; /* 浅色文字 */
  }
  .katex-display {
    background-color: #2c3e50; /* 暗色背景 */
  }
}